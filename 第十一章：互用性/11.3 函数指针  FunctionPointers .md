# ç¬¬åä¸€ç« ï¼šäº’ç”¨æ€§ Interoperability

## 11.3 å‡½æ•°æŒ‡é’ˆ
æœ¬å°èŠ‚ä¸»è¦ç”¨è¿‡è°ƒç”¨cä¸­çš„```qsort```å‡½æ•°æ¥åšå­—ç¬¦ä¸²æ’åºçš„Demoï¼Œ å¹¶ä¸”è®²äº†æ¯ä¸€ä¸ªå‚æ•°çš„å«ä¹‰ã€‚ 
å…·ä½“demoå¦‚ä¸‹ã€‚

    public func qsort(
    _ __base: UnsafeMutableRawPointer!,
    _ __nel: Int,
    _ __width: Int,
    _ __compar: @escaping @convention(c) (UnsafeRawPointer?,
    UnsafeRawPointer?)
    -> Int32)


    func qsortStrings(array: inout [String]) {
        qsort(&array, array.count, MemoryLayout<String>.stride) { a, b in
        let l = a!.assumingMemoryBound(to: String.self).pointee 
        let r = b!.assumingMemoryBound(to: String.self).pointee 
        if r > l {
            return -1
        }else if r == l {
            return 0 
        } else { 
            return 1 
        } 
    }
    }

Â· ç¬¬ä¸€ä¸ªå‚æ•°
```æŒ‡å‘æ•°ç»„é¦–ä¸ªå…ƒç´ çš„æŒ‡é’ˆ```ã€‚è¿™å’Œä½¿ç”¨ Swift å‡½æ•°çš„ inout å‚æ•°çš„è§„åˆ™æ˜¯ä¸€æ ·çš„ã€‚

Â· ç¬¬äºŒä¸ªå‚æ•°
```å…ƒç´ çš„ä¸ªæ•°```ã€‚æ•°ç»„çš„countå±æ€§å°±å¯ä»¥äº†ã€‚

Â· ç¬¬ä¸‰ä¸ªå‚æ•°
```å…ƒç´ çš„å®½åº¦```,ä½¿ç”¨äº†```MemoryLayout.stride```è·å–,è€Œä¸æ˜¯ç”¨```MemoryLayout.size```(ç”±äºç©ºéš™å®½åº¦çš„åŸå› å¯èƒ½ä¼šä¸å‡†ç¡®)ã€‚

Â· æœ€åä¸€ä¸ªå‚æ•°
ä¸€ä¸ªæŒ‡å‘Cå‡½æ•°çš„æŒ‡é’ˆï¼Œè¿™ä¸ªCå‡½æ•°ç”¨æ¥æ¯”è¾ƒæ•°ç»„ä¸­çš„ä¸¤ä¸ªå…ƒç´ ã€‚

##### çŸ¥è¯†ç‚¹1:
ä¹¦ä¸­è¿˜æåˆ°äº†[block å¹¶ä¸æ˜¯ C æ ‡å‡†çš„ä¸€éƒ¨åˆ†](https://en.wikipedia.org/wiki/Blocks_%28C_language_extension%29)  (æ¥è‡ªwiki)æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥ç…ç…ã€‚

å…¨ä¹¦overğŸŒœğŸŒ›~

