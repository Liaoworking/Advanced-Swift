# ç¬¬ä¸ƒç«  å­—ç¬¦ä¸²
## C7P8 æ–‡æœ¬è¾“å‡ºæµ

### è¿™ä¸€èŠ‚ä¸»è¦è®²äº†å…³äºè‡ªå®šä¹‰ä¸€äº›printæ‰“å°è¾“å‡ºçš„ä¸¤ä¸ªé‡è¦åè®®
```TextOutputStream``` å’Œ ```TextOutputStreamable```    å°±æ˜¯æ ‡å‡†åº“å†…ç½®çš„ä¸€ä¸ªæ ‡å‡†```è¾“å‡ºæµåè®®```ã€‚

å¤§æ¦‚æ„æ€å°±æ˜¯å¯¹ä½ çš„```printæ–¹æ³•åšä¸€äº›åŠ å·¥```ã€‚

##### é¦–å…ˆæˆ‘ä»¬å…ˆçœ‹TextOutputStream åè®®ã€‚

ä¸‹é¢æ˜¯æ ‡å‡†åº“ä¸­å¯¹ TextOutputStream åè®®çš„è§£é‡Šå’Œè¯´æ˜ï¼Œä½¿ç”¨åœºæ™¯å°±æ˜¯å¯¹æˆ‘ä»¬æ‰“å°çš„å†…å®¹åšä¸€äº›è½¬åŒ–   ä¸¾ä¾‹ä¸­çš„```ASCIILogger()``` ç³»ç»Ÿåº“ä¸­å¹¶ä¸å­˜åœ¨ï¼Œåªæ˜¯åšè¯´æ˜å†™çš„ä¸€ä¸ªã€‚

    /// The `ASCIILogger` type's `write(_:)` method processes its string input by
    /// escaping each Unicode scalar, with the exception of `"\n"` line returns.
    /// By sending the output of the `print(_:to:)` function to an instance of
    /// `ASCIILogger`, you invoke its `write(_:)` method.
    ///
    ///     let s = "Hearts â™¡ and Diamonds â™¢"
    ///     print(s)
    ///     // Prints "Hearts â™¡ and Diamonds â™¢"
    ///
    ///     var asciiLogger = ASCIILogger()
    ///     print(s, to: &asciiLogger)
    ///     // Prints "Hearts \u{2661} and Diamonds \u{2662}"
    public protocol TextOutputStream {
    
        /// Appends the given string to the stream.
        mutating func write(_ string: String)
    }

å®ç°TextOutputStreamåè®®åªéœ€è¦å®ç°å…¶```write```æ–¹æ³•ã€‚ è°ƒç”¨```print(â€œâ€, to: &æ‰“å°è½¬æ¢çš„å®ä¾‹å¯¹è±¡)```è¿™ä¸ªæ–¹æ³•å³å¯ã€‚

```ASCIILogger```ç»“æ„ä½“çš„å…·ä½“å®ç°

    struct ASCIILogger: TextOutputStream {
        mutating func write(_ string: String) {
            let ascii = string.unicodeScalars.lazy.map { scalar in
                scalar == "\n"
                  ? "\n"
                  : scalar.escaped(asASCII: true)
            }
            print(ascii.joined(separator: ""), terminator: "")
        }
    }



#### çŸ¥è¯†ç‚¹ï¼š String ```é»˜è®¤å®ç°```äº†TextOutputStreamåè®® 

[swiftå®˜æ–¹æ–‡æ¡£](https://swiftdoc.org/v4.2/protocol/textoutputstream/)å¯¹TextOutputStreamæœ‰å¾ˆè¯¦ç»†çš„è¯´æ˜ï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹çœ‹ğŸ˜„


