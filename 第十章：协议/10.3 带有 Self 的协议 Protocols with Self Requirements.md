#### 
# ç¬¬åç« ï¼šåè®® Protocol Protocol-Oriented Programming

## 10.3 å¸¦æœ‰ Self çš„åè®® Protocols with Self Requirements
æœ¬å°èŠ‚çš„çŸ¥è¯†ç‚¹æ¯”è¾ƒå•ä¸€ï¼Œä¸»è¦æ˜¯å›´ç»•å¸¦æœ‰Selfçš„åè®®æ¥è®²çš„

#### ä»€ä¹ˆæ˜¯å¸¦æœ‰ Self è¦æ±‚çš„åè®®ï¼Ÿ
å½“æˆ‘ä»¬çš„åè®®ä¸­éœ€è¦å¼•å…¥è‡ªèº«ç›¸å…³çš„å‚æ•°æˆ–è€…è¿”å›è‡ªèº«ç›¸å…³çš„è¿”å›å€¼çš„æ—¶å€™ç”¨self
(ä¹¦ä¸­å¹¶æ²¡æœ‰æ˜ç¡®çš„è§£é”ï¼Œå¤–å›½å¤§ä½¬å†™çš„ä¹¦ç›´æ¥ä¸Šäº†å°±å¹²demoäº†ã€‚ä¸Šé¢å¯¹selfçš„è§£é‡Šæ˜¯æˆ‘æŸ¥äº†å¾ˆå¤šèµ„æ–™çš„ç»“æœï¼Œçœ‹èµ·æ¥çš„ç¡®æ˜¯åºŸè¯ï¼Œå“ˆå“ˆä½†è®©è§£é‡Šä¹Ÿåªèƒ½è¿™æ ·è§£é‡ŠğŸ˜„)

å¸¦æœ‰ Self è¦æ±‚çš„åè®®åœ¨è¡Œä¸ºä¸Šå’Œé‚£äº›```å¸¦æœ‰å…³è”ç±»å‹çš„åè®®```å¾ˆç›¸ä¼¼

æœ€ç®€å•çš„æ˜¯ Equatable

    protocol Equatable {
        static func ==(lhs: Self, rhs: Self) -> Bool
    }

----
æˆ‘ä»¬æ¥å†™ä¸€ä¸ªæœ€ç®€å•çš„å¸¦æœ‰selfåè®®çš„Demoã€‚ ä¸€çœ¼ä¸€çœ‹å°±ä¼šäº†ğŸ˜¼

    protocol GHEqual {
        ///è¿™é‡Œå¼•å…¥äº†self
        static func == (lhs: Self, rhs: Self) -> Bool
    }
    
    class Person: NSObject, GHEqual {
        
        var gender: String = ""
        ///è¿™é‡Œå®ç°çš„æ—¶å€™ç³»ç»Ÿä¼šè‡ªåŠ¨å°†selfæ›¿æ¢æˆäº†å…·ä½“çš„ç±»å‹ã€‚
        static func == (lhs: Person, rhs: Person) -> Bool {
            if lhs.gender == rhs.gender {
                return true
            } else {
                return false
            }
        }
    }
    
    let personA = Person()
    personA.gender = "male"
    
    let personB = Person()
    personB.gender = "male"
    
    let isSame = (personA == personB) ///true


##### å°ç–‘é—®â“ï¼š
åœ¨æˆ‘ä»¬çš„è®¤çŸ¥ä¸­ï¼Œä¸Šé¢ç”¨åˆ°çš„ == åº”è¯¥æ˜¯å¯¹è±¡æ–¹æ³•ã€‚ ä¸ºå˜›åœ¨åè®®ä¸­å£°æ˜çš„æ—¶å€™ä¼šç”¨ static funcï¼Ÿ 
æˆ‘ç›®å‰çš„ç»“è®ºæ˜¯åœ¨åè®®ä¸­å†™æ“ä½œç¬¦å·æ—¶ å¯¹è±¡æ–¹æ³•ä¹Ÿæ˜¯ç”¨static func?
å„ä½å¤§ä½¬å¯ä»¥æŠŠä½ ä»¬çš„æƒ³æ³•åˆ†äº«å‡ºæ¥ã€‚å¤§å®¶ä¸€èµ·å­¦ä¹ ä¸€ä¸‹ğŸ˜„ã€‚
##### ç–‘é—®åç»­â—ï¸ï¼š
åæ¥æˆ‘æŸ¥é˜…èµ„æ–™ï¼Œåœ¨StackOverflowä¸­æœ‰äººæåˆ°äº†è¿™ä¸ªé—®é¢˜
[Why must a protocol operator be implemented as a global function?
](https://stackoverflow.com/questions/35246003/why-must-a-protocol-operator-be-implemented-as-a-global-function)
å…¶å¤§æ¦‚è§£é‡Šå°±æ˜¯
```ç”±äºswiftè¯­æ³•çš„åŸå› ï¼Œæ“ä½œç¬¦çš„å®ç°å¿…é¡»æ˜¯ä¸€ä¸ªå…¨å±€å‡½æ•°ã€‚```
æ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥çœ‹çœ‹é—®é¢˜ä¸­å¤§ç‰›ä»¬çš„å›ç­”ã€‚


#### æˆ‘ä»¬ä¸èƒ½ç®€å•åœ°ç”¨ Equatable æ¥ä½œä¸ºç±»å‹è¿›è¡Œå˜é‡å£°æ˜:

å’Œä¸Šä¸€èŠ‚çš„å…³è”ç±»å‹åè®®ä¸€æ ·ï¼Œæˆ‘ä»¬ä¸èƒ½æŠŠå¸¦æœ‰selfçš„åè®®ä½œä¸ºç±»æ¥å˜é‡å£°æ˜

    let x: Equatable = MonetaryAmount(currency: "EUR", amountInCents: 100)
    // ä¼šç¼–è¯‘é”™è¯¯:å› ä¸º 'Equatable' åè®®ä¸­æœ‰ Self æˆ–è€…å…³è”ç±»å‹çš„è¦æ±‚ï¼Œ
    // æ‰€ä»¥å®ƒåªèƒ½è¢«â½¤ç”¨ä½œæ³›å‹çº¦æŸ

