# 第六章：函数(function)

## 6.3 函数作为代理 function as delegate.

### foundation框架的代理

##### 知识点1：本小节只有一个知识点 swfit中的代理用weak 来修饰 防止```循环引用```。 weak var delegate: xxxDelegate?



### 结构体代理

#####  知识点2：我们可以将代理方法用```mutating```关键字来修饰，来```修改结构体本身```的内容

书中举了个例子：将结构图```设置成代理```。 发现结构体的```内部并不能改变```。

##### 原因：delegate = structXX 时，实质是把结构体的```复制```赋值给了delegate。所以结构体内部不能发生改变

##### 总结： 在代理和协议的模式中，并```不适合```使用结构体。



### 使用函数，而非代理（其实就是使用```闭包```，不用代理）

这个小节主要就是讲对于结构体，尽量不要用delegate，用```闭包```就行。 通过[weak self]的方式```避免循环引用```。

##### 知识点3：要注销一个代理用 = nil就可以。要注销闭包就不行了，```闭包实质上是函数```，函数```无法被比较```，只能通过额外的逻辑代码去移除。

